shadow$provide.module$node_modules$rc_select$lib$Select=function(global,process,require,module,exports,shadow$shims){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj["default"]=obj;return newObj}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return _extends.apply(this,
arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,
call){return!call||"object"!==typeof call&&"function"!==typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inherits(subClass,superClass){if("function"!==
typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}function chaining(){for(var _len=arguments.length,
fns=Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];for(_len2=0;_len2<fns.length;_len2++)fns[_len2]&&"function"===typeof fns[_len2]&&fns[_len2].apply(chaining,args)}}Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classnames2=_interopRequireDefault(require("module$node_modules$classnames$index")),_componentClasses=_interopRequireDefault(require("module$node_modules$component_classes$index")),
_rcAnimate=_interopRequireDefault(require("module$node_modules$rc_animate$lib$Animate")),_rcMenu=require("module$node_modules$rc_menu$lib$index"),_toArray=_interopRequireDefault(require("module$node_modules$rc_util$lib$Children$toArray")),_KeyCode=_interopRequireDefault(require("module$node_modules$rc_util$lib$KeyCode")),React=_interopRequireWildcard(require("module$node_modules$react$index")),ReactDOM=_interopRequireWildcard(require("module$node_modules$react_dom$index"));global=require("module$node_modules$react_lifecycles_compat$react_lifecycles_compat_cjs");
var _warning=_interopRequireDefault(require("module$node_modules$warning$warning")),_Option=_interopRequireDefault(require("module$node_modules$rc_select$lib$Option"));process=_interopRequireDefault(require("module$node_modules$rc_select$lib$PropTypes"));var _SelectTrigger=_interopRequireDefault(require("module$node_modules$rc_select$lib$SelectTrigger")),_util=require("module$node_modules$rc_select$lib$util");require=function(){return null};var Select=function(_React$Component){function Select(props$jscomp$0){if(!(this instanceof
Select))throw new TypeError("Cannot call a class as a function");var _this=_possibleConstructorReturn(this,_getPrototypeOf(Select).call(this,props$jscomp$0));_this.inputRef=null;_this.inputMirrorRef=null;_this.topCtrlRef=null;_this.selectTriggerRef=null;_this.rootRef=null;_this.selectionRef=null;_this.dropdownContainer=null;_this.blurTimer=null;_this.focusTimer=null;_this.comboboxTimer=null;_this._focused=!1;_this._mouseDown=!1;_this._options=[];_this._empty=!1;_this.onInputChange=function(event){var tokenSeparators=
_this.props.tokenSeparators;event=event.target.value;(0,_util.isMultipleOrTags)(_this.props)&&tokenSeparators.length&&(0,_util.includesSeparators)(event,tokenSeparators)?(tokenSeparators=_this.getValueByInput(event),void 0!==tokenSeparators&&_this.fireChange(tokenSeparators),_this.setOpenState(!1,{needFocus:!0}),_this.setInputValue("",!1)):(_this.setInputValue(event),_this.setState({open:!0}),(0,_util.isCombobox)(_this.props)&&_this.fireChange([event]))};_this.onDropdownVisibleChange=function(open){open&&
!_this._focused&&(_this.clearBlurTime(),_this.timeoutFocus(),_this._focused=!0,_this.updateFocusClassName());_this.setOpenState(open)};_this.onKeyDown=function(event){var open=_this.state.open;if(!_this.props.disabled){var keyCode=event.keyCode;if(open&&!_this.getInputDOMNode())_this.onInputKeyDown(event);else keyCode===_KeyCode["default"].ENTER||keyCode===_KeyCode["default"].DOWN?(open||_this.setOpenState(!0),event.preventDefault()):keyCode!==_KeyCode["default"].SPACE||open||(_this.setOpenState(!0),
event.preventDefault())}};_this.onInputKeyDown=function(event){var _this$props=_this.props,combobox=_this$props.combobox,defaultActiveFirstOption=_this$props.defaultActiveFirstOption;if(!_this$props.disabled){_this$props=_this.state;var isRealOpen=_this.getRealOpenState(_this$props),keyCode=event.keyCode;if((0,_util.isMultipleOrTags)(_this.props)&&!event.target.value&&keyCode===_KeyCode["default"].BACKSPACE)event.preventDefault(),event=_this$props.value,event.length&&_this.removeSelected(event[event.length-
1]);else{if(keyCode===_KeyCode["default"].DOWN){if(!_this$props.open){_this.openIfHasChildren();event.preventDefault();event.stopPropagation();return}}else if(keyCode===_KeyCode["default"].ENTER&&_this$props.open)!isRealOpen&&combobox||event.preventDefault(),isRealOpen&&combobox&&!1===defaultActiveFirstOption&&(_this.comboboxTimer=setTimeout(function(){_this.setOpenState(!1)}));else if(keyCode===_KeyCode["default"].ESC){_this$props.open&&(_this.setOpenState(!1),event.preventDefault(),event.stopPropagation());
return}isRealOpen&&_this.selectTriggerRef&&(combobox=_this.selectTriggerRef.getInnerMenu())&&combobox.onKeyDown(event,_this.handleBackfill)&&(event.preventDefault(),event.stopPropagation())}}};_this.onMenuSelect=function(_ref){var item=_ref.item;if(item){var value=_this.state.value;_ref=_this.props;var selectedValue=(0,_util.getValuePropValue)(item),lastValue=value[value.length-1],skipTrigger=!1;(0,_util.isMultipleOrTags)(_ref)?-1!==(0,_util.findIndexInValueBySingleValue)(value,selectedValue)?skipTrigger=
!0:value=value.concat([selectedValue]):(0,_util.isCombobox)(_ref)||void 0===lastValue||lastValue!==selectedValue||selectedValue===_this.state.backfillValue?(value=[selectedValue],_this.setOpenState(!1,{needFocus:!0,fireSearch:!1})):(_this.setOpenState(!1,{needFocus:!0,fireSearch:!1}),skipTrigger=!0);skipTrigger||_this.fireChange(value);_this.fireSelect(selectedValue);skipTrigger||(item=(0,_util.isCombobox)(_ref)?(0,_util.getPropValue)(item,_ref.optionLabelProp):"",_ref.autoClearSearchValue&&_this.setInputValue(item,
!1))}};_this.onMenuDeselect=function(_ref2){var item=_ref2.item;_ref2=_ref2.domEvent;"keydown"===_ref2.type&&_ref2.keyCode===_KeyCode["default"].ENTER?_this.removeSelected((0,_util.getValuePropValue)(item)):("click"===_ref2.type&&_this.removeSelected((0,_util.getValuePropValue)(item)),_this.props.autoClearSearchValue&&_this.setInputValue(""))};_this.onArrowClick=function(e){e.stopPropagation();e.preventDefault();_this.props.disabled||_this.setOpenState(!_this.state.open,{needFocus:!_this.state.open})};
_this.onPlaceholderClick=function(){_this.getInputDOMNode&&_this.getInputDOMNode()&&_this.getInputDOMNode().focus()};_this.onOuterFocus=function(e){if(_this.props.disabled)e.preventDefault();else{_this.clearBlurTime();var inputNode=_this.getInputDOMNode();inputNode&&e.target===_this.rootRef||!(0,_util.isMultipleOrTagsOrCombobox)(_this.props)&&e.target===inputNode||_this._focused||(_this._focused=!0,_this.updateFocusClassName(),(0,_util.isMultipleOrTags)(_this.props)&&_this._mouseDown||_this.timeoutFocus())}};
_this.onPopupFocus=function(){_this.maybeFocus(!0,!0)};_this.onOuterBlur=function(e){_this.props.disabled?e.preventDefault():_this.blurTimer=window.setTimeout(function(){_this._focused=!1;_this.updateFocusClassName();var props=_this.props,value=_this.state.value,inputValue=_this.state.inputValue;if((0,_util.isSingleMode)(props)&&props.showSearch&&inputValue&&props.defaultActiveFirstOption){if(inputValue=_this._options||[],inputValue.length&&(inputValue=(0,_util.findFirstMenuItem)(inputValue)))value=
[(0,_util.getValuePropValue)(inputValue)],_this.fireChange(value)}else(0,_util.isMultipleOrTags)(props)&&inputValue&&(_this._mouseDown?_this.setInputValue(""):(_this.state.inputValue="",_this.getInputDOMNode&&_this.getInputDOMNode()&&(_this.getInputDOMNode().value="")),inputValue=_this.getValueByInput(inputValue),void 0!==inputValue&&(value=inputValue,_this.fireChange(value)));if((0,_util.isMultipleOrTags)(props)&&_this._mouseDown)_this.maybeFocus(!0,!0),_this._mouseDown=!1;else if(_this.setOpenState(!1),
props.onBlur)props.onBlur(_this.getVLForOnChange(value))},10)};_this.onClearSelection=function(event){var state=_this.state;if(!_this.props.disabled){var inputValue=state.inputValue;state=state.value;event.stopPropagation();if(inputValue||state.length)state.length&&_this.fireChange([]),_this.setOpenState(!1,{needFocus:!0}),inputValue&&_this.setInputValue("")}};_this.onChoiceAnimationLeave=function(){_this.forcePopupAlign()};_this.getOptionInfoBySingleValue=function(value,optionsInfo){var info;optionsInfo=
optionsInfo||_this.state.optionsInfo;optionsInfo[(0,_util.getMapKey)(value)]&&(info=optionsInfo[(0,_util.getMapKey)(value)]);if(info)return info;optionsInfo=value;if(_this.props.labelInValue){info=(0,_util.getLabelFromPropsValue)(_this.props.value,value);var defaultValueLabel=(0,_util.getLabelFromPropsValue)(_this.props.defaultValue,value);void 0!==info?optionsInfo=info:void 0!==defaultValueLabel&&(optionsInfo=defaultValueLabel)}return{option:React.createElement(_Option["default"],{value:value,key:value},
value),value:value,label:optionsInfo}};_this.getOptionBySingleValue=function(value){return _this.getOptionInfoBySingleValue(value).option};_this.getOptionsBySingleValue=function(values){return values.map(function(value){return _this.getOptionBySingleValue(value)})};_this.getValueByLabel=function(label){if(void 0===label)return null;var value=null;Object.keys(_this.state.optionsInfo).forEach(function(key){key=_this.state.optionsInfo[key];if(!key.disabled){var oldLable=(0,_util.toArray)(key.label);
oldLable&&oldLable.join("")===label&&(value=key.value)}});return value};_this.getVLBySingleValue=function(value){return _this.props.labelInValue?{key:value,label:_this.getLabelBySingleValue(value)}:value};_this.getVLForOnChange=function(vlsS){return void 0!==vlsS?(vlsS=_this.props.labelInValue?vlsS.map(function(vl){return{key:vl,label:_this.getLabelBySingleValue(vl)}}):vlsS.map(function(v){return v}),(0,_util.isMultipleOrTags)(_this.props)?vlsS:vlsS[0]):vlsS};_this.getLabelBySingleValue=function(value,
optionsInfo){return _this.getOptionInfoBySingleValue(value,optionsInfo).label};_this.getDropdownContainer=function(){_this.dropdownContainer||(_this.dropdownContainer=document.createElement("div"),document.body.appendChild(_this.dropdownContainer));return _this.dropdownContainer};_this.getPlaceholderElement=function(){var props=_this.props,state=_this.state,hidden=!1;state.inputValue&&(hidden=!0);var value=state.value;value.length&&(hidden=!0);(0,_util.isCombobox)(props)&&1===value.length&&state.value&&
!state.value[0]&&(hidden=!1);return(state=props.placeholder)?React.createElement("div",_extends({onMouseDown:_util.preventDefaultEvent,style:_extends({display:hidden?"none":"block"},_util.UNSELECTABLE_STYLE)},_util.UNSELECTABLE_ATTRIBUTE,{onClick:_this.onPlaceholderClick,className:"".concat(props.prefixCls,"-selection__placeholder")}),state):null};_this.getInputElement=function(){var props=_this.props,defaultInput=React.createElement("input",{id:props.id,autoComplete:"off"});defaultInput=props.getInputElement?
props.getInputElement():defaultInput;var inputCls=(0,_classnames2["default"])(defaultInput.props.className,_defineProperty({},"".concat(props.prefixCls,"-search__field"),!0));return React.createElement("div",{className:"".concat(props.prefixCls,"-search__field__wrap")},React.cloneElement(defaultInput,{ref:_this.saveInputRef,onChange:_this.onInputChange,onKeyDown:chaining(_this.onInputKeyDown,defaultInput.props.onKeyDown,_this.props.onInputKeyDown),value:_this.state.inputValue,disabled:props.disabled,
className:inputCls}),React.createElement("span",{ref:_this.saveInputMirrorRef,className:"".concat(props.prefixCls,"-search__field__mirror")},_this.state.inputValue," "))};_this.getInputDOMNode=function(){return _this.topCtrlRef?_this.topCtrlRef.querySelector("input,textarea,div[contentEditable]"):_this.inputRef};_this.getInputMirrorDOMNode=function(){return _this.inputMirrorRef};_this.getPopupDOMNode=function(){if(_this.selectTriggerRef)return _this.selectTriggerRef.getPopupDOMNode()};_this.getPopupMenuComponent=
function(){if(_this.selectTriggerRef)return _this.selectTriggerRef.getInnerMenu()};_this.setOpenState=function(open){var config=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},needFocus=config.needFocus;config=config.fireSearch;var props=_this.props;if(_this.state.open===open)_this.maybeFocus(open,!!needFocus);else{if(_this.props.onDropdownVisibleChange)_this.props.onDropdownVisibleChange(open);var nextState={open:open,backfillValue:""};!open&&(0,_util.isSingleMode)(props)&&props.showSearch&&
_this.setInputValue("",config);open||_this.maybeFocus(open,!!needFocus);_this.setState(_extends({open:open},nextState),function(){open&&_this.maybeFocus(open,!!needFocus)})}};_this.setInputValue=function(inputValue){var fireSearch=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,onSearch=_this.props.onSearch;inputValue!==_this.state.inputValue&&_this.setState(function(prevState){fireSearch&&inputValue!==prevState.inputValue&&onSearch&&onSearch(inputValue);return{inputValue:inputValue}},_this.forcePopupAlign)};
_this.getValueByInput=function(str){var _this$props2=_this.props,multiple=_this$props2.multiple;_this$props2=_this$props2.tokenSeparators;var nextValue=_this.state.value,hasNewValue=!1;(0,_util.splitBySeparators)(str,_this$props2).forEach(function(label){var selectedValue=[label];multiple?(label=_this.getValueByLabel(label))&&-1===(0,_util.findIndexInValueBySingleValue)(nextValue,label)&&(nextValue=nextValue.concat(label),hasNewValue=!0,_this.fireSelect(label)):-1===(0,_util.findIndexInValueBySingleValue)(nextValue,
label)&&(nextValue=nextValue.concat(selectedValue),hasNewValue=!0,_this.fireSelect(label))});return hasNewValue?nextValue:void 0};_this.getRealOpenState=function(state){var _open=_this.props.open;if("boolean"===typeof _open)return _open;state=(state||_this.state).open;_open=_this._options||[];!(0,_util.isMultipleOrTagsOrCombobox)(_this.props)&&_this.props.showSearch||!state||_open.length||(state=!1);return state};_this.markMouseDown=function(){_this._mouseDown=!0};_this.markMouseLeave=function(){_this._mouseDown=
!1};_this.handleBackfill=function(item){_this.props.backfill&&((0,_util.isSingleMode)(_this.props)||(0,_util.isCombobox)(_this.props))&&(item=(0,_util.getValuePropValue)(item),(0,_util.isCombobox)(_this.props)&&_this.setInputValue(item,!1),_this.setState({value:[item],backfillValue:item}))};_this.filterOption=function(input,child){var defaultFilter=2<arguments.length&&void 0!==arguments[2]?arguments[2]:_util.defaultFilterFn,value=_this.state.value;value=value[value.length-1];if(!input||value&&value===
_this.state.backfillValue)return!0;value=_this.props.filterOption;"filterOption"in _this.props?!0===value&&(value=defaultFilter.bind(_assertThisInitialized(_this))):value=defaultFilter.bind(_assertThisInitialized(_this));if(value){if("function"===typeof value)return value.call(_assertThisInitialized(_this),input,child);if(child.props.disabled)return!1}return!0};_this.timeoutFocus=function(){var onFocus=_this.props.onFocus;_this.focusTimer&&_this.clearFocusTime();_this.focusTimer=window.setTimeout(function(){onFocus&&
onFocus()},10)};_this.clearFocusTime=function(){_this.focusTimer&&(clearTimeout(_this.focusTimer),_this.focusTimer=null)};_this.clearBlurTime=function(){_this.blurTimer&&(clearTimeout(_this.blurTimer),_this.blurTimer=null)};_this.clearComboboxTime=function(){_this.comboboxTimer&&(clearTimeout(_this.comboboxTimer),_this.comboboxTimer=null)};_this.updateFocusClassName=function(){var rootRef=_this.rootRef,props=_this.props;_this._focused?(0,_componentClasses["default"])(rootRef).add("".concat(props.prefixCls,
"-focused")):(0,_componentClasses["default"])(rootRef).remove("".concat(props.prefixCls,"-focused"))};_this.maybeFocus=function(open,needFocus){if(needFocus||open){needFocus=_this.getInputDOMNode();var activeElement=document.activeElement;needFocus&&(open||(0,_util.isMultipleOrTagsOrCombobox)(_this.props))?activeElement!==needFocus&&(needFocus.focus(),_this._focused=!0):activeElement!==_this.selectionRef&&_this.selectionRef&&(_this.selectionRef.focus(),_this._focused=!0)}};_this.removeSelected=function(selectedKey,
e){var props=_this.props;if(!props.disabled&&!_this.isChildDisabled(selectedKey)){e&&e.stopPropagation&&e.stopPropagation();e=_this.state.value.filter(function(singleValue){return singleValue!==selectedKey});if((0,_util.isMultipleOrTags)(props)){var event=selectedKey;props.labelInValue&&(event={key:selectedKey,label:_this.getLabelBySingleValue(selectedKey)});if(props.onDeselect)props.onDeselect(event,_this.getOptionBySingleValue(selectedKey))}_this.fireChange(e)}};_this.openIfHasChildren=function(){var props=
_this.props;(React.Children.count(props.children)||(0,_util.isSingleMode)(props))&&_this.setOpenState(!0)};_this.fireSelect=function(value){if(_this.props.onSelect)_this.props.onSelect(_this.getVLBySingleValue(value),_this.getOptionBySingleValue(value))};_this.fireChange=function(value){var props=_this.props;"value"in props||_this.setState({value:value},_this.forcePopupAlign);var vls=_this.getVLForOnChange(value);value=_this.getOptionsBySingleValue(value);if(props.onChange)props.onChange(vls,(0,_util.isMultipleOrTags)(_this.props)?
value:value[0])};_this.isChildDisabled=function(key){return(0,_toArray["default"])(_this.props.children).some(function(child){return(0,_util.getValuePropValue)(child)===key&&child.props&&child.props.disabled})};_this.forcePopupAlign=function(){_this.state.open&&_this.selectTriggerRef&&_this.selectTriggerRef.triggerRef&&_this.selectTriggerRef.triggerRef.forcePopupAlign()};_this.renderFilterOptions=function(){var inputValue=_this.state.inputValue,_this$props3=_this.props,tags=_this$props3.tags,notFoundContent=
_this$props3.notFoundContent,menuItems=[],childrenKeys=[],empty=!1,options=_this.renderFilterOptionsFromChildren(_this$props3.children,childrenKeys,menuItems);tags&&(_this$props3=_this.state.value,_this$props3=_this$props3.filter(function(singleValue){return-1===childrenKeys.indexOf(singleValue)&&(!inputValue||-1<String(singleValue).indexOf(String(inputValue)))}),_this$props3.sort(function(val1,val2){return val1.length-val2.length}),_this$props3.forEach(function(singleValue){singleValue=React.createElement(_rcMenu.Item,
{style:_util.UNSELECTABLE_STYLE,role:"option",attribute:_util.UNSELECTABLE_ATTRIBUTE,value:singleValue,key:singleValue},singleValue);options.push(singleValue);menuItems.push(singleValue)}),inputValue&&menuItems.every(function(option){return(0,_util.getValuePropValue)(option)!==inputValue})&&options.unshift(React.createElement(_rcMenu.Item,{style:_util.UNSELECTABLE_STYLE,role:"option",attribute:_util.UNSELECTABLE_ATTRIBUTE,value:inputValue,key:inputValue},inputValue)));!options.length&&notFoundContent&&
(empty=!0,options=[React.createElement(_rcMenu.Item,{style:_util.UNSELECTABLE_STYLE,attribute:_util.UNSELECTABLE_ATTRIBUTE,disabled:!0,role:"option",value:"NOT_FOUND",key:"NOT_FOUND"},notFoundContent)]);return{empty:empty,options:options}};_this.renderFilterOptionsFromChildren=function(children,childrenKeys,menuItems){var sel=[],inputValue=_this.state.inputValue,tags=_this.props.tags;React.Children.forEach(children,function(child){if(child){var type=child.type;if(type.isSelectOptGroup){type=child.props.label;
var key=child.key;key||"string"!==typeof type?!type&&key&&(type=key):key=type;inputValue&&_this.filterOption(inputValue,child)?(child=(0,_toArray["default"])(child.props.children).map(function(subChild){var childValueSub=(0,_util.getValuePropValue)(subChild)||subChild.key;return React.createElement(_rcMenu.Item,_extends({key:childValueSub,value:childValueSub},subChild.props))}),sel.push(React.createElement(_rcMenu.ItemGroup,{key:key,title:type},child))):(child=_this.renderFilterOptionsFromChildren(child.props.children,
childrenKeys,menuItems),child.length&&sel.push(React.createElement(_rcMenu.ItemGroup,{key:key,title:type},child)))}else(0,_warning["default"])(type.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+"instead of `".concat(type.name||type.displayName||child.type,"`.")),type=(0,_util.getValuePropValue)(child),(0,_util.validateOptionValue)(type,_this.props),_this.filterOption(inputValue,child)&&(child=React.createElement(_rcMenu.Item,_extends({style:_util.UNSELECTABLE_STYLE,
attribute:_util.UNSELECTABLE_ATTRIBUTE,value:type,key:type,role:"option"},child.props)),sel.push(child),menuItems.push(child)),tags&&childrenKeys.push(type)}});return sel};_this.renderTopControlNode=function(){var _this$state=_this.state,open=_this$state.open,inputValue=_this$state.inputValue,value=_this.state.value,props=_this.props,choiceTransitionName=props.choiceTransitionName,prefixCls=props.prefixCls,maxTagTextLength=props.maxTagTextLength,maxTagCount=props.maxTagCount,showSearch=props.showSearch,
removeIcon=props.removeIcon,maxTagPlaceholder=props.maxTagPlaceholder;_this$state="".concat(prefixCls,"-selection__rendered");var innerNode=null;if((0,_util.isSingleMode)(props))props=null,value.length&&(props=!1,choiceTransitionName=1,showSearch?open?(props=!inputValue)&&(choiceTransitionName=.4):props=!0:props=!0,maxTagPlaceholder=_this.getOptionInfoBySingleValue(value[0]),value=maxTagPlaceholder.label,maxTagPlaceholder=maxTagPlaceholder.title,props=React.createElement("div",{key:"value",className:"".concat(prefixCls,
"-selection-selected-value"),title:(0,_util.toTitle)(maxTagPlaceholder||value),style:{display:props?"block":"none",opacity:choiceTransitionName}},value)),innerNode=showSearch?[props,React.createElement("div",{className:"".concat(prefixCls,"-search ").concat(prefixCls,"-search--inline"),key:"input",style:{display:open?"block":"none"}},_this.getInputElement())]:[props];else{open=[];showSearch=value;if(void 0!==maxTagCount&&value.length>maxTagCount){showSearch=showSearch.slice(0,maxTagCount);inputValue=
_this.getVLForOnChange(value.slice(maxTagCount,value.length));value="+ ".concat(value.length-maxTagCount," ...");maxTagPlaceholder&&(value="function"===typeof maxTagPlaceholder?maxTagPlaceholder(inputValue):maxTagPlaceholder);var maxTagPlaceholderEl=React.createElement("li",_extends({style:_util.UNSELECTABLE_STYLE},_util.UNSELECTABLE_ATTRIBUTE,{role:"presentation",onMouseDown:_util.preventDefaultEvent,className:"".concat(prefixCls,"-selection__choice ").concat(prefixCls,"-selection__choice__disabled"),
key:"maxTagPlaceholder",title:(0,_util.toTitle)(value)}),React.createElement("div",{className:"".concat(prefixCls,"-selection__choice__content")},value))}(0,_util.isMultipleOrTags)(props)&&(open=showSearch.map(function(singleValue){var info=_this.getOptionInfoBySingleValue(singleValue),content=info.label;info=info.title||content;maxTagTextLength&&"string"===typeof content&&content.length>maxTagTextLength&&(content="".concat(content.slice(0,maxTagTextLength),"..."));var disabled=_this.isChildDisabled(singleValue),
choiceClassName=disabled?"".concat(prefixCls,"-selection__choice ").concat(prefixCls,"-selection__choice__disabled"):"".concat(prefixCls,"-selection__choice");return React.createElement("li",_extends({style:_util.UNSELECTABLE_STYLE},_util.UNSELECTABLE_ATTRIBUTE,{onMouseDown:_util.preventDefaultEvent,className:choiceClassName,role:"presentation",key:singleValue||"RC_SELECT_EMPTY_VALUE_KEY",title:(0,_util.toTitle)(info)}),React.createElement("div",{className:"".concat(prefixCls,"-selection__choice__content")},
content),disabled?null:React.createElement("span",{onClick:function(event){_this.removeSelected(singleValue,event)},className:"".concat(prefixCls,"-selection__choice__remove")},removeIcon||React.createElement("i",{className:"".concat(prefixCls,"-selection__choice__remove-icon")},"×")))}));maxTagPlaceholderEl&&open.push(maxTagPlaceholderEl);open.push(React.createElement("li",{className:"".concat(prefixCls,"-search ").concat(prefixCls,"-search--inline"),key:"__input"},_this.getInputElement()));innerNode=
(0,_util.isMultipleOrTags)(props)&&choiceTransitionName?React.createElement(_rcAnimate["default"],{onLeave:_this.onChoiceAnimationLeave,component:"ul",transitionName:choiceTransitionName},open):React.createElement("ul",null,open)}return React.createElement("div",{className:_this$state,ref:_this.saveTopCtrlRef},_this.getPlaceholderElement(),innerNode)};var optionsInfo=Select.getOptionsInfoFromProps(props$jscomp$0);if(props$jscomp$0.tags&&"function"!==typeof props$jscomp$0.filterOption){var isDisabledExist=
Object.keys(optionsInfo).some(function(key){return optionsInfo[key].disabled});(0,_warning["default"])(!isDisabledExist,"Please avoid setting option to disabled in tags mode since user can always type text as tag.")}_this.state={value:Select.getValueFromProps(props$jscomp$0,!0),inputValue:props$jscomp$0.combobox?Select.getInputValueForCombobox(props$jscomp$0,optionsInfo,!0):"",open:props$jscomp$0.defaultOpen,optionsInfo:optionsInfo,backfillValue:"",skipBuildOptionsInfo:!0,ariaId:""};_this.saveInputRef=
(0,_util.saveRef)(_assertThisInitialized(_this),"inputRef");_this.saveInputMirrorRef=(0,_util.saveRef)(_assertThisInitialized(_this),"inputMirrorRef");_this.saveTopCtrlRef=(0,_util.saveRef)(_assertThisInitialized(_this),"topCtrlRef");_this.saveSelectTriggerRef=(0,_util.saveRef)(_assertThisInitialized(_this),"selectTriggerRef");_this.saveRootRef=(0,_util.saveRef)(_assertThisInitialized(_this),"rootRef");_this.saveSelectionRef=(0,_util.saveRef)(_assertThisInitialized(_this),"selectionRef");return _this}
_inherits(Select,_React$Component);_createClass(Select,[{key:"componentDidMount",value:function(){(this.props.autoFocus||this.state.open)&&this.focus();this.setState({ariaId:(0,_util.generateUUID)()})}},{key:"componentDidUpdate",value:function(){if((0,_util.isMultipleOrTags)(this.props)){var inputNode=this.getInputDOMNode(),mirrorNode=this.getInputMirrorDOMNode();inputNode&&inputNode.value&&mirrorNode?(inputNode.style.width="",inputNode.style.width="".concat(mirrorNode.clientWidth,"px")):inputNode&&
(inputNode.style.width="")}this.forcePopupAlign()}},{key:"componentWillUnmount",value:function(){this.clearFocusTime();this.clearBlurTime();this.clearComboboxTime();this.dropdownContainer&&(ReactDOM.unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)}},{key:"focus",value:function(){(0,_util.isSingleMode)(this.props)&&this.selectionRef?this.selectionRef.focus():this.getInputDOMNode()&&this.getInputDOMNode().focus()}},{key:"blur",
value:function(){(0,_util.isSingleMode)(this.props)&&this.selectionRef?this.selectionRef.blur():this.getInputDOMNode()&&this.getInputDOMNode().blur()}},{key:"renderArrow",value:function(multiple){var _this$props4=this.props,_this$props4$showArro=_this$props4.showArrow,loading=_this$props4.loading,inputIcon=_this$props4.inputIcon;_this$props4=_this$props4.prefixCls;if((void 0===_this$props4$showArro?multiple:!_this$props4$showArro)&&!loading)return null;multiple=loading?React.createElement("i",{className:"".concat(_this$props4,
"-arrow-loading")}):React.createElement("i",{className:"".concat(_this$props4,"-arrow-icon")});return React.createElement("span",_extends({key:"arrow",className:"".concat(_this$props4,"-arrow"),style:_util.UNSELECTABLE_STYLE},_util.UNSELECTABLE_ATTRIBUTE,{onClick:this.onArrowClick}),inputIcon||multiple)}},{key:"renderClear",value:function(){var _this$props5=this.props,prefixCls=_this$props5.prefixCls,allowClear=_this$props5.allowClear,clearIcon=_this$props5.clearIcon;_this$props5=this.state.inputValue;
var value=this.state.value;prefixCls=React.createElement("span",_extends({key:"clear",className:"".concat(prefixCls,"-selection__clear"),onMouseDown:_util.preventDefaultEvent,style:_util.UNSELECTABLE_STYLE},_util.UNSELECTABLE_ATTRIBUTE,{onClick:this.onClearSelection}),clearIcon||React.createElement("i",{className:"".concat(prefixCls,"-selection__clear-icon")},"×"));return allowClear?(0,_util.isCombobox)(this.props)?_this$props5?prefixCls:null:_this$props5||value.length?prefixCls:null:null}},{key:"render",
value:function(){var _rootCls,props=this.props,multiple=(0,_util.isMultipleOrTags)(props),_props$showArrow=props.showArrow,showArrow=void 0===_props$showArrow?!0:_props$showArrow;_props$showArrow=this.state;var className=props.className,disabled=props.disabled,prefixCls=props.prefixCls,loading=props.loading,ctrlNode=this.renderTopControlNode(),_this$state2=this.state,open=_this$state2.open;_this$state2=_this$state2.ariaId;if(open){var filterOptions=this.renderFilterOptions();this._empty=filterOptions.empty;
this._options=filterOptions.options}filterOptions=this.getRealOpenState();var empty=this._empty,options=this._options||[],dataOrAriaAttributeProps={};Object.keys(props).forEach(function(key){!Object.prototype.hasOwnProperty.call(props,key)||"data-"!==key.substr(0,5)&&"aria-"!==key.substr(0,5)&&"role"!==key||(dataOrAriaAttributeProps[key]=props[key])});var extraSelectionProps=_extends({},dataOrAriaAttributeProps);(0,_util.isMultipleOrTagsOrCombobox)(props)||(extraSelectionProps=_extends({},extraSelectionProps,
{onKeyDown:this.onKeyDown,tabIndex:props.disabled?-1:props.tabIndex}));showArrow=(_rootCls={},_defineProperty(_rootCls,className,!!className),_defineProperty(_rootCls,prefixCls,1),_defineProperty(_rootCls,"".concat(prefixCls,"-open"),open),_defineProperty(_rootCls,"".concat(prefixCls,"-focused"),open||!!this._focused),_defineProperty(_rootCls,"".concat(prefixCls,"-combobox"),(0,_util.isCombobox)(props)),_defineProperty(_rootCls,"".concat(prefixCls,"-disabled"),disabled),_defineProperty(_rootCls,"".concat(prefixCls,
"-enabled"),!disabled),_defineProperty(_rootCls,"".concat(prefixCls,"-allow-clear"),!!props.allowClear),_defineProperty(_rootCls,"".concat(prefixCls,"-no-arrow"),!showArrow),_defineProperty(_rootCls,"".concat(prefixCls,"-loading"),!!loading),_rootCls);return React.createElement(_SelectTrigger["default"],{onPopupFocus:this.onPopupFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,dropdownAlign:props.dropdownAlign,dropdownClassName:props.dropdownClassName,dropdownMatchSelectWidth:props.dropdownMatchSelectWidth,
defaultActiveFirstOption:props.defaultActiveFirstOption,dropdownMenuStyle:props.dropdownMenuStyle,transitionName:props.transitionName,animation:props.animation,prefixCls:props.prefixCls,dropdownStyle:props.dropdownStyle,combobox:props.combobox,showSearch:props.showSearch,options:options,empty:empty,multiple:multiple,disabled:disabled,visible:filterOptions,inputValue:_props$showArrow.inputValue,value:_props$showArrow.value,backfillValue:_props$showArrow.backfillValue,firstActiveValue:props.firstActiveValue,
onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:props.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,onPopupScroll:props.onPopupScroll,showAction:props.showAction,ref:this.saveSelectTriggerRef,menuItemSelectedIcon:props.menuItemSelectedIcon,dropdownRender:props.dropdownRender,ariaId:_this$state2},React.createElement("div",{id:props.id,style:props.style,ref:this.saveRootRef,onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:(0,_classnames2["default"])(showArrow),
onMouseDown:this.markMouseDown,onMouseUp:this.markMouseLeave,onMouseOut:this.markMouseLeave},React.createElement("div",_extends({ref:this.saveSelectionRef,key:"selection",className:"".concat(prefixCls,"-selection\n            ").concat(prefixCls,"-selection--").concat(multiple?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-controls":_this$state2,"aria-expanded":filterOptions},extraSelectionProps),ctrlNode,this.renderClear(),this.renderArrow(!!multiple))))}}]);
return Select}(React.Component);Select.propTypes=process["default"];Select.defaultProps={prefixCls:"rc-select",defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",onChange:require,onFocus:require,onBlur:require,onSelect:require,onSearch:require,onDeselect:require,onInputKeyDown:require,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found",backfill:!1,showAction:["click"],
tokenSeparators:[],autoClearSearchValue:!0,tabIndex:0,dropdownRender:function(menu){return menu}};Select.getDerivedStateFromProps=function(nextProps,prevState){prevState=prevState.skipBuildOptionsInfo?prevState.optionsInfo:Select.getOptionsInfoFromProps(nextProps,prevState);var newState={optionsInfo:prevState,skipBuildOptionsInfo:!1};"open"in nextProps&&(newState.open=nextProps.open);if("value"in nextProps){var value=Select.getValueFromProps(nextProps);newState.value=value;nextProps.combobox&&(newState.inputValue=
Select.getInputValueForCombobox(nextProps,prevState))}return newState};Select.getOptionsFromChildren=function(children){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];React.Children.forEach(children,function(child){child&&(child.type.isSelectOptGroup?Select.getOptionsFromChildren(child.props.children,options):options.push(child))});return options};Select.getInputValueForCombobox=function(props,optionsInfo,useDefaultValue){var value=[];"value"in props&&!useDefaultValue&&(value=
(0,_util.toArray)(props.value));"defaultValue"in props&&useDefaultValue&&(value=(0,_util.toArray)(props.defaultValue));if(value.length)value=value[0];else return"";useDefaultValue=value;props.labelInValue?useDefaultValue=value.label:optionsInfo[(0,_util.getMapKey)(value)]&&(useDefaultValue=optionsInfo[(0,_util.getMapKey)(value)].label);void 0===useDefaultValue&&(useDefaultValue="");return useDefaultValue};Select.getLabelFromOption=function(props,option){return(0,_util.getPropValue)(option,props.optionLabelProp)};
Select.getOptionsInfoFromProps=function(props,preState){var optionsInfo={};Select.getOptionsFromChildren(props.children).forEach(function(option){var singleValue=(0,_util.getValuePropValue)(option);optionsInfo[(0,_util.getMapKey)(singleValue)]={option:option,value:singleValue,label:Select.getLabelFromOption(props,option),title:option.props.title,disabled:option.props.disabled}});if(preState){var oldOptionsInfo=preState.optionsInfo;(preState=preState.value)&&preState.forEach(function(v){v=(0,_util.getMapKey)(v);
optionsInfo[v]||void 0===oldOptionsInfo[v]||(optionsInfo[v]=oldOptionsInfo[v])})}return optionsInfo};Select.getValueFromProps=function(props,useDefaultValue){var value=[];"value"in props&&!useDefaultValue&&(value=(0,_util.toArray)(props.value));"defaultValue"in props&&useDefaultValue&&(value=(0,_util.toArray)(props.defaultValue));props.labelInValue&&(value=value.map(function(v){return v.key}));return value};Select.displayName="Select";(0,global.polyfill)(Select);exports["default"]=Select}
//# sourceMappingURL=module$node_modules$rc_select$lib$Select.js.map
