shadow$provide.module$node_modules$antd$es$_util$wave=function(global,process,require,module,exports,shadow$shims){function _typeof(obj$jscomp$0){_typeof="function"===typeof Symbol&&"symbol"===global.shadow.js.babel.typeof(Symbol.iterator)?function(obj){return"undefined"===typeof obj?"undefined":global.shadow.js.babel.typeof(obj)}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"===typeof obj?"undefined":global.shadow.js.babel.typeof(obj)};
return _typeof(obj$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}
function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!==typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inherits(subClass,
superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}function isHidden(element){return!element||
null===element.offsetParent}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;process=require("module$node_modules$react$index");var React=global.shadow.js.babel.interopRequireWildcard(process),_reactDom=require("module$node_modules$react_dom$index");process=require("module$node_modules$css_animation$es$Event");var _Event2=global.shadow.js.babel.interopRequireDefault(process);process=require("module$node_modules$antd$es$_util$raf");var _raf2=global.shadow.js.babel.interopRequireDefault(process),
_configProvider=require("module$node_modules$antd$es$config_provider$index"),styleForPesudo;require=function(_React$Component){function Wave(){if(!(this instanceof Wave))throw new TypeError("Cannot call a class as a function");var _this=_possibleConstructorReturn(this,_getPrototypeOf(Wave).apply(this,arguments));_this.animationStart=!1;_this.destroy=!1;_this.onClick=function(node,waveColor){if(!(!node||isHidden(node)||0<=node.className.indexOf("-leave"))){var insertExtraNode=_this.props.insertExtraNode;
_this.extraNode=document.createElement("div");var extraNode=_assertThisInitialized(_this).extraNode;extraNode.className="ant-click-animating-node";var attributeName=_this.getAttributeName();node.setAttribute(attributeName,"true");styleForPesudo=styleForPesudo||document.createElement("style");if(attributeName=waveColor&&"#ffffff"!==waveColor&&"rgb(255, 255, 255)"!==waveColor)attributeName=(attributeName=(waveColor||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/))&&attributeName[1]&&attributeName[2]&&
attributeName[3]?!(attributeName[1]===attributeName[2]&&attributeName[2]===attributeName[3]):!0;attributeName&&!/rgba\(\d*, \d*, \d*, 0\)/.test(waveColor)&&"transparent"!==waveColor&&(_this.csp&&_this.csp.nonce&&(styleForPesudo.nonce=_this.csp.nonce),extraNode.style.borderColor=waveColor,styleForPesudo.innerHTML="\n      [ant-click-animating-without-extra-node\x3d'true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ".concat(waveColor,";\n      }"),document.body.contains(styleForPesudo)||
document.body.appendChild(styleForPesudo));insertExtraNode&&node.appendChild(extraNode);_Event2.default.addStartEventListener(node,_this.onTransitionStart);_Event2.default.addEndEventListener(node,_this.onTransitionEnd)}};_this.onTransitionStart=function(e){if(!_this.destroy){var node=(0,_reactDom.findDOMNode)(_assertThisInitialized(_this));e&&e.target===node&&(_this.animationStart||_this.resetEffect(node))}};_this.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&_this.resetEffect(e.target)};
_this.bindAnimationEvent=function(node){if(node&&node.getAttribute&&!node.getAttribute("disabled")&&!(0<=node.className.indexOf("disabled"))){var onClick=function(e){if("INPUT"!==e.target.tagName&&!isHidden(e.target)){_this.resetEffect(node);var waveColor=getComputedStyle(node).getPropertyValue("border-top-color")||getComputedStyle(node).getPropertyValue("border-color")||getComputedStyle(node).getPropertyValue("background-color");_this.clickWaveTimeoutId=window.setTimeout(function(){return _this.onClick(node,
waveColor)},0);_raf2.default.cancel(_this.animationStartId);_this.animationStart=!0;_this.animationStartId=(0,_raf2.default)(function(){_this.animationStart=!1},10)}};node.addEventListener("click",onClick,!0);return{cancel:function(){node.removeEventListener("click",onClick,!0)}}}};_this.renderWave=function(_ref){var children=_this.props.children;_this.csp=_ref.csp;return children};return _this}_inherits(Wave,_React$Component);_createClass(Wave,[{key:"componentDidMount",value:function(){var node=
(0,_reactDom.findDOMNode)(this);node&&1===node.nodeType&&(this.instance=this.bindAnimationEvent(node))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel();this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId);this.destroy=!0}},{key:"getAttributeName",value:function(){return this.props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"resetEffect",value:function(node){if(node&&node!==this.extraNode&&node instanceof Element){var insertExtraNode=
this.props.insertExtraNode,attributeName=this.getAttributeName();node.setAttribute(attributeName,"false");styleForPesudo&&(styleForPesudo.innerHTML="");insertExtraNode&&this.extraNode&&node.contains(this.extraNode)&&node.removeChild(this.extraNode);_Event2.default.removeStartEventListener(node,this.onTransitionStart);_Event2.default.removeEndEventListener(node,this.onTransitionEnd)}}},{key:"render",value:function(){return React.createElement(_configProvider.ConfigConsumer,null,this.renderWave)}}]);
return Wave}(React.Component);exports.default=require}
//# sourceMappingURL=module$node_modules$antd$es$_util$wave.js.map
