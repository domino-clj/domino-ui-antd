{
"version":3,
"file":"module$node_modules$mini_store$lib$connect.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/mini-store/lib/connect.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mini_store$lib$connect\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = connect;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _PropTypes = require('./PropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nfunction isStateless(Component) {\n  return !Component.prototype.render;\n}\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\n\nfunction connect(mapStateToProps) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finnalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n\n  return function wrapWithConnect(WrappedComponent) {\n    var Connect = function (_Component) {\n      _inherits(Connect, _Component);\n\n      _createClass(Connect, null, [{\n        key: 'getDerivedStateFromProps',\n        value: function getDerivedStateFromProps(props, prevState) {\n          // using ownProps\n          if (mapStateToProps && mapStateToProps.length === 2 && props !== prevState.props) {\n            return {\n              subscribed: finnalMapStateToProps(prevState.store.getState(), props),\n              props: props\n            };\n          }\n          return { props: props };\n        }\n      }]);\n\n      function Connect(props, context) {\n        _classCallCheck(this, Connect);\n\n        var _this = _possibleConstructorReturn(this, (Connect.__proto__ || Object.getPrototypeOf(Connect)).call(this, props, context));\n\n        _this.handleChange = function () {\n          if (!_this.unsubscribe) {\n            return;\n          }\n          var nextState = finnalMapStateToProps(_this.store.getState(), _this.props);\n          _this.setState({ subscribed: nextState });\n        };\n\n        _this.store = context.miniStore;\n        _this.state = {\n          subscribed: finnalMapStateToProps(_this.store.getState(), props),\n          store: _this.store,\n          props: props\n        };\n        return _this;\n      }\n\n      _createClass(Connect, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.trySubscribe();\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this.tryUnsubscribe();\n        }\n      }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !(0, _shallowequal2.default)(this.props, nextProps) || !(0, _shallowequal2.default)(this.state.subscribed, nextState.subscribed);\n        }\n      }, {\n        key: 'trySubscribe',\n        value: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: 'tryUnsubscribe',\n        value: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        }\n      }, {\n        key: 'getWrappedInstance',\n        value: function getWrappedInstance() {\n          return this.wrappedInstance;\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var _this2 = this;\n\n          var props = _extends({}, this.props, this.state.subscribed, {\n            store: this.store\n          });\n\n          if (!isStateless(WrappedComponent)) {\n            props = _extends({}, props, {\n              ref: function ref(c) {\n                return _this2.wrappedInstance = c;\n              }\n            });\n          }\n\n          return _react2.default.createElement(WrappedComponent, props);\n        }\n      }]);\n\n      return Connect;\n    }(_react.Component);\n\n    Connect.displayName = 'Connect(' + getDisplayName(WrappedComponent) + ')';\n    Connect.contextTypes = {\n      miniStore: _PropTypes.storeShape.isRequired\n    };\n\n\n    (0, _reactLifecyclesCompat.polyfill)(Connect);\n\n    return (0, _hoistNonReactStatics2.default)(Connect, WrappedComponent);\n  };\n}\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","_interopRequireDefault","obj","__esModule","default","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","connect","mapStateToProps","shouldSubscribe","finnalMapStateToProps","defaultMapStateToProps","wrapWithConnect","WrappedComponent","Connect","_Component","context","instance","_this","getPrototypeOf","handleChange","_this.handleChange","unsubscribe","nextState","store","getState","setState","subscribed","miniStore","state","getDerivedStateFromProps","prevState","componentDidMount","trySubscribe","componentWillUnmount","tryUnsubscribe","shouldComponentUpdate","nextProps","_shallowequal2","subscribe","getWrappedInstance","wrappedInstance","render","_this2","ref","c","_react2","createElement","_react","Component","displayName","name","contextTypes","_PropTypes","storeShape","isRequired","_reactLifecyclesCompat","polyfill","_hoistNonReactStatics2","_shallowequal","_hoistNonReactStatics"]
}
