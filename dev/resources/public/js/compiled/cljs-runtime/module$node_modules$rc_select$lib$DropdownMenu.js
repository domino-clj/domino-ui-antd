shadow$provide.module$node_modules$rc_select$lib$DropdownMenu=function(global,process,require,module,exports,shadow$shims){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj["default"]=obj;return newObj}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return _extends.apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;
descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==typeof call&&"function"!==typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=
Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&
superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _domScrollIntoView=_interopRequireDefault(require("module$node_modules$dom_scroll_into_view$lib$index"));global=_interopRequireWildcard(require("module$node_modules$prop_types$index"));
var _raf=_interopRequireDefault(require("module$node_modules$raf$index")),_rcMenu=_interopRequireDefault(require("module$node_modules$rc_menu$lib$index")),_toArray=_interopRequireDefault(require("module$node_modules$rc_util$lib$Children$toArray")),React=_interopRequireWildcard(require("module$node_modules$react$index")),_reactDom=require("module$node_modules$react_dom$index"),_util=require("module$node_modules$rc_select$lib$util");require=function(_React$Component){function DropdownMenu(props){if(!(this instanceof
DropdownMenu))throw new TypeError("Cannot call a class as a function");var _this=_possibleConstructorReturn(this,_getPrototypeOf(DropdownMenu).call(this,props));_this.rafInstance=null;_this.lastVisible=!1;_this.scrollActiveItemToView=function(){var itemComponent=(0,_reactDom.findDOMNode)(_this.firstActiveItem),_this$props=_this.props,visible=_this$props.visible;_this$props=_this$props.firstActiveValue;var value=_this.props.value;if(itemComponent&&visible){var scrollIntoViewOpts={onlyScrollIfNeeded:!0};
value&&0!==value.length||!_this$props||(scrollIntoViewOpts.alignWithTop=!0);_this.rafInstance=(0,_raf["default"])(function(){(0,_domScrollIntoView["default"])(itemComponent,(0,_reactDom.findDOMNode)(_this.menuRef),scrollIntoViewOpts)})}};_this.renderMenu=function(){var _this$props2=_this.props,menuItems=_this$props2.menuItems,menuItemSelectedIcon=_this$props2.menuItemSelectedIcon,defaultActiveFirstOption=_this$props2.defaultActiveFirstOption,prefixCls=_this$props2.prefixCls,multiple=_this$props2.multiple,
onMenuSelect=_this$props2.onMenuSelect,inputValue=_this$props2.inputValue,backfillValue=_this$props2.backfillValue,onMenuDeselect=_this$props2.onMenuDeselect,visible=_this$props2.visible,firstActiveValue=_this.props.firstActiveValue;if(menuItems&&menuItems.length){_this$props2={};multiple?(_this$props2.onDeselect=onMenuDeselect,_this$props2.onSelect=onMenuSelect):_this$props2.onClick=onMenuSelect;onMenuDeselect=_this.props.value;var selectedKeys=(0,_util.getSelectKeys)(menuItems,onMenuDeselect);onMenuSelect=
{};var clonedMenuItems=menuItems;if(selectedKeys.length||firstActiveValue){visible&&!_this.lastVisible?onMenuSelect.activeKey=selectedKeys[0]||firstActiveValue:visible||(selectedKeys[0]&&(defaultActiveFirstOption=!1),onMenuSelect.activeKey=void 0);var foundFirst=!1,clone=function(item){var key=item.key;return!foundFirst&&-1!==selectedKeys.indexOf(key)||!foundFirst&&!selectedKeys.length&&-1!==firstActiveValue.indexOf(item.key)?(foundFirst=!0,React.cloneElement(item,{ref:function(_ref){_this.firstActiveItem=
_ref}})):item};clonedMenuItems=menuItems.map(function(item){if(item.type.isMenuItemGroup){var children=(0,_toArray["default"])(item.props.children).map(clone);return React.cloneElement(item,{},children)}return clone(item)})}else _this.firstActiveItem=null;menuItems=onMenuDeselect&&onMenuDeselect[onMenuDeselect.length-1];inputValue===_this.lastInputValue||menuItems&&menuItems===backfillValue||(onMenuSelect.activeKey="");return React.createElement(_rcMenu["default"],_extends({ref:_this.saveMenuRef,
style:_this.props.dropdownMenuStyle,defaultActiveFirst:defaultActiveFirstOption,role:"listbox",itemIcon:multiple?menuItemSelectedIcon:null},onMenuSelect,{multiple:multiple},_this$props2,{selectedKeys:selectedKeys,prefixCls:"".concat(prefixCls,"-menu")}),clonedMenuItems)}return null};_this.lastInputValue=props.inputValue;_this.saveMenuRef=(0,_util.saveRef)(_assertThisInitialized(_this),"menuRef");return _this}_inherits(DropdownMenu,_React$Component);_createClass(DropdownMenu,[{key:"componentDidMount",
value:function(){this.scrollActiveItemToView();this.lastVisible=this.props.visible}},{key:"shouldComponentUpdate",value:function(nextProps){nextProps.visible||(this.lastVisible=!1);return this.props.visible&&!nextProps.visible||nextProps.visible||nextProps.inputValue!==this.props.inputValue}},{key:"componentDidUpdate",value:function(prevProps){var props=this.props;!prevProps.visible&&props.visible&&this.scrollActiveItemToView();this.lastVisible=props.visible;this.lastInputValue=props.inputValue}},
{key:"componentWillUnmount",value:function(){this.rafInstance&&_raf["default"].cancel(this.rafInstance)}},{key:"render",value:function(){var renderMenu=this.renderMenu();return renderMenu?React.createElement("div",{style:{overflow:"auto",transform:"translateZ(0)"},id:this.props.ariaId,onFocus:this.props.onPopupFocus,onMouseDown:_util.preventDefaultEvent,onScroll:this.props.onPopupScroll},renderMenu):null}}]);return DropdownMenu}(React.Component);exports["default"]=require;require.displayName="DropdownMenu";
require.propTypes={ariaId:global.string,defaultActiveFirstOption:global.bool,value:global.any,dropdownMenuStyle:global.object,multiple:global.bool,onPopupFocus:global.func,onPopupScroll:global.func,onMenuDeSelect:global.func,onMenuSelect:global.func,prefixCls:global.string,menuItems:global.any,inputValue:global.string,visible:global.bool,firstActiveValue:global.string,menuItemSelectedIcon:global.oneOfType([global.func,global.node])}}
//# sourceMappingURL=module$node_modules$rc_select$lib$DropdownMenu.js.map
