shadow$provide.module$node_modules$rc_align$lib$Align=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getElement(func){return"function"===typeof func&&func?func():null}function getPoint(point){return"object"===typeof point&&point?point:null}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$babel_runtime$helpers$classCallCheck");var _classCallCheck3=_interopRequireDefault(global);
global=require("module$node_modules$babel_runtime$helpers$createClass");var _createClass3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$inherits");var _inherits3=_interopRequireDefault(global);global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);process=require("module$node_modules$prop_types$index");
process=_interopRequireDefault(process);shadow$shims=require("module$node_modules$react_dom$index");var _reactDom2=_interopRequireDefault(shadow$shims),_domAlign=require("module$node_modules$dom_align$dist_node$index");shadow$shims=require("module$node_modules$rc_util$lib$Dom$addEventListener");var _addEventListener2=_interopRequireDefault(shadow$shims),_util=require("module$node_modules$rc_align$lib$util");require=function(_Component){function Align(){var _ref,_temp,_this,_ret;(0,_classCallCheck3["default"])(this,
Align);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=(0,_possibleConstructorReturn3["default"])(this,(_ref=Align.__proto__||Object.getPrototypeOf(Align)).call.apply(_ref,[this].concat(args))),_this),_this.forceAlign=function(){var _this$props=_this.props,target=_this$props.target,align=_this$props.align,onAlign=_this$props.onAlign;if(!_this$props.disabled&&target){_this$props=_reactDom2["default"].findDOMNode(_this);var result=
void 0,element=getElement(target);target=getPoint(target);var activeElement=document.activeElement;element?result=(0,_domAlign.alignElement)(_this$props,element,align):target&&(result=(0,_domAlign.alignPoint)(_this$props,target,align));(0,_util.restoreFocus)(activeElement,_this$props);onAlign&&onAlign(_this$props,result)}},_temp),(0,_possibleConstructorReturn3["default"])(_this,_ret)}(0,_inherits3["default"])(Align,_Component);(0,_createClass3["default"])(Align,[{key:"componentDidMount",value:function(){var props=
this.props;this.forceAlign();!props.disabled&&props.monitorWindowResize&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(prevProps){var reAlign=!1,props=this.props;if(!props.disabled){var source=_reactDom2["default"].findDOMNode(this),sourceRect=source?source.getBoundingClientRect():null;if(prevProps.disabled)reAlign=!0;else{var lastElement=getElement(prevProps.target),currentElement=getElement(props.target);prevProps=getPoint(prevProps.target);var currentPoint=getPoint(props.target);
if((0,_util.isWindow)(lastElement)&&(0,_util.isWindow)(currentElement))reAlign=!1;else if(lastElement!==currentElement||lastElement&&!currentElement&&currentPoint||prevProps&&currentPoint&&currentElement||currentPoint&&!(0,_util.isSamePoint)(prevProps,currentPoint))reAlign=!0;lastElement=this.sourceRect||{};reAlign||!source||(0,_util.isSimilarValue)(lastElement.width,sourceRect.width)&&(0,_util.isSimilarValue)(lastElement.height,sourceRect.height)||(reAlign=!0)}this.sourceRect=sourceRect}reAlign&&
this.forceAlign();props.monitorWindowResize&&!props.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize()}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=(0,_util.buffer)(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=(0,_addEventListener2["default"])(window,"resize",this.bufferMonitor))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&
(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)}},{key:"render",value:function(){var _this2=this,_props=this.props,childrenProps=_props.childrenProps;_props=_react2["default"].Children.only(_props.children);if(childrenProps){var newProps={};Object.keys(childrenProps).forEach(function(prop){newProps[prop]=_this2.props[childrenProps[prop]]});return _react2["default"].cloneElement(_props,newProps)}return _props}}]);return Align}(global.Component);require.propTypes={childrenProps:process["default"].object,
align:process["default"].object.isRequired,target:process["default"].oneOfType([process["default"].func,process["default"].shape({clientX:process["default"].number,clientY:process["default"].number,pageX:process["default"].number,pageY:process["default"].number})]),onAlign:process["default"].func,monitorBufferTime:process["default"].number,monitorWindowResize:process["default"].bool,disabled:process["default"].bool,children:process["default"].any};require.defaultProps={target:function(){return window},
monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};exports["default"]=require;module.exports=exports["default"]}
//# sourceMappingURL=module$node_modules$rc_align$lib$Align.js.map
