{"version":3,"sources":["domino/ui/antd/test_page.cljs"],"mappings":";;;;;;;;;AAYA,AAAAA,AAAA,AAAA,AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAAqCK;AAArC,AAAAD,AAAAJ,AAAA,AAA2CM;AAA3C,AACE;;AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AACUF,AAAW,AAAAG,AAAA,AAAA,AAAyBF;AAAzB,AAAA,AAAAE,AAAAA,AAACC,AAAAA,AAAAA;;;;;AAKxB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC,AA+BS,AAAAC,AAAKE;AAAL,AAAA,AAAAD,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAX,AAAA,AAAAW,AAAA,AAAA,AAAA,AAAA,AAAAV,AAAAC,AAAAS,AAAAA;AAAA,AAAAR,AAAAQ,AAAA,AAAeE;AAAf,AACE,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAE0B,AAACE,AAAOH;AAFlC,AAAA,AAAAC,AAAAA,AAACC,AAAAA,AAAAA;AAhCjB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAsCc,AAAAE,AAAKL,AAAiCA;AAAtC,AAAA,AAAAM,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAlB,AAAA,AAAAkB,AAAA,AAAA,AAAA,AAAA,AAAAjB,AAAAC,AAAAgB,AAAAA;AAAA,AAAAf,AAAAe,AAAA,AAAeL;AAAf,AAAAV,AAAAe,AAAA,AAA0BC;AAA1B,AAAA,AAAA,AACc,AAAAC,AAAI,AAAM,AAAAC,AAAKR;AAAL,AAAA,AAAAQ;AAAgBF;;AAAhBE;;AAAN,AAAA,AACE,AAAA,AAAKF,AAAeN;AAD1B,AAAA,AAAAO;AAAAA;;AAAA,AAAAA,AAEIP;AAFJ,AAAA,AAAAO;AAAAA;;AAGID;;;;;AAEhC,AAAA,AAAMG,AAAQC;AAAd,AACE,AAAAC,AAAA,AAAAC;AAAA,AAAA,AAAAC,AAAAC;AAAAC,AAAAC;AAAAC,AAAA;AAAAC,AAAA;AAAAC;AAAA,AAAA,AAAAR,AAAAQ;;;AAAA,AAAA,AAAAL,AAAAG;;AAAA,AAAAD,AAAAE;;AAAA,AAAA,AAAc,AAACE,AAAmBV;AAAlC,AAAA,AAAAM,AAAAD;;AAAA,AAAAD,AAAAD;;AAAA,AAAAF;;AAEF,AAAA,AAAMU;AAAN,AAAA,AAAA,AAAA,AAAA5B,AAEI,AAAA6B,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAAC3B,AAAAA,AAAAA;AAFL,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAKS,AAAA,AAAAF,AAACgB,AAAQ,AAAAc,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAAC5B,AAAAA,AAAAA;AALnB,AAAA,AAAA,AAAA,AAAA,AAOS,AAAA,AAAAF,AAACgB,AAAQ,AAAAe,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAAC7B,AAAAA,AAAAA;;;AAEnB,AAAA,AAAM8B;AAAN,AACE,AAAAC,AAAA,AAAA,AAA+B9B;AAA/B,AAAA,AAAA8B,AAAAA,AAACC,AAAAA,AAAAA;;AACD,AAAA,AAACC,AAAUP,AAAW,AAAA,AAAiBQ;;AAEzC,AAAA,AAAMC;AAAN,AACE,AAACL","names":["domino.ui.component/component","p__37906","map__37907","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","label","id","cljs.core/deref","G__37909","re-frame.core/subscribe","domino.ui.antd.test-page/schema","p__37910","map__37911","_","first-name","G__37913","re-frame.core/dispatch","cljs.core/empty?","p__37914","map__37915","last-name","or__4131__auto__","and__4120__auto__","domino.ui.antd.test-page/pprint","v","sb__4661__auto__","goog.string/StringBuffer","*print-newline*-orig-val__37917","cljs.core/*print-newline*","*print-fn*-orig-val__37918","cljs.core/*print-fn*","*print-newline*-temp-val__37919","*print-fn*-temp-val__37920","x__4662__auto__","cljs.pprint.pprint.cljs$core$IFn$_invoke$arity$1","domino.ui.antd.test-page/home-page","G__37921","G__37922","G__37923","domino.ui.antd.test-page/mount-root","G__37924","re-frame.core/dispatch-sync","reagent.core.render.cljs$core$IFn$_invoke$arity$2","js/document","domino.ui.antd.test-page/init!"],"sourcesContent":["(ns domino.ui.antd.test-page\n  (:require\n    [reagent.core :as r]\n    [re-frame.core :as rf]\n\n    [domino.ui.core :as core]\n    [domino.ui.component :refer [component]]\n\n    [domino.ui.antd.input]\n    [domino.ui.antd.button]\n    [domino.ui.antd.select]))\n\n(defmethod component :label [{:keys [label id]}]\n  (fn []\n    [:label label \" \" @(rf/subscribe [::core/id id])]))\n\n\n;; TODO: button example\n;; TODO: select example\n(def schema\n  {:views\n   {:default [:div\n              [:div\n               [:label \"First name\"]\n               {:component :input\n                :id        :first-name}]\n              [:div\n               [:label \"Last name\"]\n               {:component :input\n                :id        :last-name}]\n\n              {:label     \"Last name\"\n               :component :label\n               :id        :full-name}\n\n              #_[:div\n               [:label \"Gender\"]\n               {:component :select\n                :id        :gender\n                :options   [{:id    \"M\"\n                             :label \"Male\"}\n                            {:id    \"F\"\n                             :label \"Female\"}]}]]}\n   :model\n   [[:demographics\n     [:first-name {:id :first-name}]\n     [:last-name {:id :last-name}]\n     [:full-name {:id :full-name}]]]\n   :effects\n   [{:inputs  [:first-name]\n     :handler (fn [_ {:keys [first-name]}]\n                (rf/dispatch [::core/update-component-state\n                              :last-name\n                              {:disabled? (empty? first-name)}]))}]\n   :events\n   [{:inputs  [:first-name :last-name]\n     :outputs [:full-name]\n     :handler (fn [_ {:keys [first-name last-name]} _]\n                {:full-name (or (when (and first-name last-name)\n                                  (str last-name \", \" first-name))\n                                first-name\n                                last-name)})}]})\n\n(defn pprint [v]\n  (with-out-str (cljs.pprint/pprint v)))\n\n(defn home-page []\n  [:div\n   @(rf/subscribe [::core/view :default])\n   [:hr]\n   [:label \"component states\"]\n   [:pre (pprint @(rf/subscribe [::core/components]))]\n   [:label \"db state\"]\n   [:pre (pprint @(rf/subscribe [::core/db]))]])\n\n(defn mount-root []\n  (rf/dispatch-sync [::core/init schema])\n  (r/render [home-page] (.getElementById js/document \"app\")))\n\n(defn init! []\n  (mount-root))\n"]}